{% extends "core/customer/base.html" %}
{% load django_bootstrap5 %}

{% block head %}
<script src="https://js.stripe.com/v3/"></script>
{% endblock head %}

{% block main %}
<b class="text-secondary">Your Credit/Debit Card</b>

<div class="card bg-white mt-2 mb-5">
  <div class="card-body">
    <form id="setup-form" data-secret="{{ client_secret }}">
      <div id="card-element"></div>
      <button id="card-button" class="btn btn-warning mt-3">Save Card</button>
    </form>
  </div>
</div>

<script>
  var stripe = Stripe('{{ STRIPE_API_PUBLIC_KEY }}');

  var elements = stripe.elements();
  var cardElement = elements.create('card');
  cardElement.mount('#card-element');
</script>
{% endblock main %}
